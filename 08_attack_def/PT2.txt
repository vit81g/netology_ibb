Методология :
OSSTMM 3
PTES
SP 800-115  (NIST)
PTF

4 этапа:
разведка, сбор информации (рекогносцировка)
сканирование
эксплуатация
постэксплуатация

1. Рекогносцировка
зоны ip адресов, dns, subdomains (OSINT Framework)

theHarvester
theHarvester -d netology.ru -l 500 -n -b google
Выдаст первые 500 упоминаний о нетологии в гугл

Гугл дорки:
site:github.com netology
Поиск нетологи (в мягком совпадении, где упомянуто) в гитхабе
site:github.com "netology.ru"
совпадение по сайту

Методанные с файлов организации
site:netology.ru filetype:pdf
сбор файлов с сайта по типу pdf

strings - вытащит метаданные из файла
экзифтулс

google hacking database (база данных запросов)
shodan.io
активное сканирование здесь запрещено на этом этапе

2. Сканирование
поиск активных систем
Трасеровка (где какие хосты, сколько хопов)
сканирование портов
определение ОС
какой софт и какой версии
поиск уязвимостей на основе ОС и ПО

1)Уменьшение диапозона IP адресов для сканирования (но если вам сказали что сервисы крутятся в этом диапозоне)

2)Сканирование топ портов или пула портов (но если вам сказали что сервисы крутятся в этом диапозоне)

3)сканируем порты которые пропускает фаревол

4)большое количество сканеров параллельно работает (DDoS  может произойти)

5)снижение таймаута при сканировании (можно потерять пакеты, если проблемы в сети или далеко расположена)
сканируем ближе к объекту, на сети провайдера, поднять в облаке сканер, если объект в облаке

6)Zmap и другие инструменты для сканирования

Лучше сканировать организацию изнутри, настроить vpn для соединения с сетью организации (с wireshark, для понимания пакетов, vpn может отбрасывать определенные пакеты)

udp 443 - quick прокол внутри TCP + HTTP v2, все это шифруется tls и пускаем через UDP (UDP - отправляй и молись, что бы дошло, а TCP работает по правилам и никто не будет его править) - для ИБ данные протокола нет инструментов для обработки. Плюсы - можны скрыть свой трафик.

3. Эксплуатация
Сервисные Exploit
Exloit - нацелины на сервисы
для windows
MS08-067 использует службу SMB
MS17-010 использует службу SMB

CVE-2022-1388 получаем контроль над устройством F5 (BIG-IP) получаем рут, даже с доступом к панели управления

Клиентские Exploit











































































